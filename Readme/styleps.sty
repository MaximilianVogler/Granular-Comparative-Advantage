
\ProvidesPackage{styleps}


%%%%%%%%%%%%%%%%%%%%%%%%%
%Preamble
%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%
%PACKAGES
%%%%%%%%%%%%



\usepackage{amsmath,amsfonts,amssymb,mathrsfs}
\usepackage{bm,upgreek}						%For bold greek
\usepackage{bbm}
\usepackage{calrsfs}							%For calligraphic fonts
\usepackage{bigints}							%For big integral signs
\usepackage{mathtools}
\usepackage{fancyhdr}
\usepackage{graphicx}
\usepackage{enumitem}
\usepackage{cleveref}
\usepackage{pgfplots}
\usetikzlibrary{calc}
\usepackage{accents}							%For command \ubar
\usepackage{wrapfig}							%For figure in text environment
\usepackage{sgame}							%For game theory matrices
\usepackage{breqn}							%To break brackets over lines
\usepackage{placeins}
\usepackage{float}
\usepackage{booktabs}
\usepackage[flushleft]{threeparttable}
\usepackage{pdflscape}
\usepackage{setspace}
\usepackage{amsthm}
\usepackage{lineno}
\usepackage{verbatim}
\usepackage[labelfont={sc},labelsep=period]{caption}
\usepackage{tabularx}
\usepackage{fancyvrb}
\usepackage{multirow}




\usepackage[space]{grffile}
%\pgfplotsset{compat=1.08}




%%%%%%%%%%%%
%NEW COMMANDS
%%%%%%%%%%%%

%%%%%%
%General
\newcommand{\R}{\mathbb{R}}				%Set of real numbers 		- \R
\newcommand{\N}{\mathbb{N}}				%Set of natural numbers	- \N
\newcommand{\eps}{\varepsilon}				%Varepsilon				- \eps
\DeclarePairedDelimiter\abs{\lvert}{\rvert}		%Absolute value			- \abs
\newcommand{\ubar}[1]{\underaccent{\bar}{#1}}	%Underbar				- \ubar
\renewcommand{\implies}{\ \Rightarrow \ }		%Imply operator			- \implies
\renewcommand{\iff}{\ \Leftrightarrow \ }		%If and only if operator		- \iff
\newcommand{\wtilde}{\widetilde}
\newcommand{\sumi}{ \sum_{i=1}^n }

\DeclareMathOperator*{\argmin}{arg\,min}		%New argmin operator		- \argmin
\DeclareMathOperator*{\argmax}{arg\,max}		%New argmax operator		- \argmax

%%%%%%
%Econometrics
\newcommand{\E}{\mathbb{E}}				%Expectation operator		- \E

\newcommand{\bb}{\mathbf{b}}
\newcommand{\ee}{\mathbf{e}}
%\newcommand{\ggg}{\mathbf{g}}
\newcommand{\II}{\mathbf{I}}
\newcommand{\MM}{\mathbf{M}}
\newcommand{\PP}{\mathbf{P}}
\newcommand{\RR}{\mathbf{R}}
\newcommand{\rr}{\mathbf{r}}
\newcommand{\Ss}{\mathbf{S}}
\newcommand{\sS}{\mathbf{s}}
\newcommand{\XX}{\mathbf{X}}
\newcommand{\xx}{\mathbf{x}}
\newcommand{\yy}{\mathbf{y}}
\newcommand{\ZZ}{\mathbf{Z}}
\newcommand{\zz}{\mathbf{z}}
\renewcommand{\AA}{\mathbf{A}}				%Bold A					- \AA
\renewcommand{\SS}{\mathbf{S}}				%Bold S					- \SS
\newcommand{\ww}{\mathbf{w}}				%Bold w					- \ww
\newcommand{\1}{\mathbbm{1}}				%Indicator function			- \11

\renewcommand{\ss}{\succsim}				%At least as good as relation	- \ss
\renewcommand{\L}{\mathcal{L}}				%Calligraphic L			- \L

\newcommand{\dto}{\xrightarrow{d}}
\newcommand{\pto}{\xrightarrow{p}}


%GREEK LETTERS
\let\a\alpha								%Alpha			- \a
\let\b\beta								%Beta			- \b
\let\g\gamma								%Gamma		- \g
\let\d\delta								%Delta			- \d
\let\l\lambda								%Lambda		- \l
\let\r\rho									%Rho			- \r
\let\s\sigma								%Sigma			- \s
\let\t\tau									%Tau			- \t
\let\th\theta								%Theta			- \th
\let\L\Lambda								%Capital Lambda	- \L

\newcommand{\eeps}{\bm{\upvarepsilon}}		%Bold epsilon		- \eeps
\newcommand{\tthe}{\bm{\Theta}}				%Bold theta		- \tthe
\newcommand{\ssigma}{\bm{\Sigma}}			%Bold sigma		- \ssigma
\newcommand{\ggamma}{\bm{\Gamma}}		%Bold gamma	- \ggamma
\newcommand{\bbeta}{\bm{\upbeta}}			%Bold beta		- \bbeta
\newcommand{\pphi}{\bm{\Phi}}				%Bold phi		- \pphi






%%%%%%%%%%%%
%LAYOUT AND STYLE
%%%%%%%%%%%%



\newcolumntype{C}[1]{>{\hsize=#1\hsize\centering\arraybackslash}X}
\DeclareMathAlphabet{\pazocal}{OMS}{zplm}{m}{n}	%Declare alphabet for different calligraphic fonts


%%%%%%%%%%%%%%%
%New (complicated) commands

%Widehat

\makeatletter
\let\save@mathaccent\mathaccent
\newcommand*\if@single[3]{%
  \setbox0\hbox{${\mathaccent"0362{#1}}^H$}%
  \setbox2\hbox{${\mathaccent"0362{\kern0pt#1}}^H$}%
  \ifdim\ht0=\ht2 #3\else #2\fi
  }
%The bar will be moved to the right by a half of \macc@kerna, which is computed by amsmath:
\newcommand*\rel@kern[1]{\kern#1\dimexpr\macc@kerna}
%If there's a superscript following the bar, then no negative kern may follow the bar;
%an additional {} makes sure that the superscript is high enough in this case:
\newcommand*\widebar[1]{\@ifnextchar^{{\wide@bar{#1}{0}}}{\wide@bar{#1}{1}}}
%Use a separate algorithm for single symbols:
\newcommand*\wide@bar[2]{\if@single{#1}{\wide@bar@{#1}{#2}{1}}{\wide@bar@{#1}{#2}{2}}}
\newcommand*\wide@bar@[3]{%
  \begingroup
  \def\mathaccent##1##2{%
%Enable nesting of accents:
    \let\mathaccent\save@mathaccent
%If there's more than a single symbol, use the first character instead (see below):
    \if#32 \let\macc@nucleus\first@char \fi
%Determine the italic correction:
    \setbox\z@\hbox{$\macc@style{\macc@nucleus}_{}$}%
    \setbox\tw@\hbox{$\macc@style{\macc@nucleus}{}_{}$}%
    \dimen@\wd\tw@
    \advance\dimen@-\wd\z@
%Now \dimen@ is the italic correction of the symbol.
    \divide\dimen@ 3
    \@tempdima\wd\tw@
    \advance\@tempdima-\scriptspace
%Now \@tempdima is the width of the symbol.
    \divide\@tempdima 10
    \advance\dimen@-\@tempdima
%Now \dimen@ = (italic correction / 3) - (Breite / 10)
    \ifdim\dimen@>\z@ \dimen@0pt\fi
%The bar will be shortened in the case \dimen@<0 !
    \rel@kern{0.6}\kern-\dimen@
    \if#31
      \overline{\rel@kern{-0.6}\kern\dimen@\macc@nucleus\rel@kern{0.4}\kern\dimen@}%
      \advance\dimen@0.4\dimexpr\macc@kerna
%Place the combined final kern (-\dimen@) if it is >0 or if a superscript follows:
      \let\final@kern#2%
      \ifdim\dimen@<\z@ \let\final@kern1\fi
      \if\final@kern1 \kern-\dimen@\fi
    \else
      \overline{\rel@kern{-0.6}\kern\dimen@#1}%
    \fi
  }%
  \macc@depth\@ne
  \let\math@bgroup\@empty \let\math@egroup\macc@set@skewchar
  \mathsurround\z@ \frozen@everymath{\mathgroup\macc@group\relax}%
  \macc@set@skewchar\relax
  \let\mathaccentV\macc@nested@a
%The following initialises \macc@kerna and calls \mathaccent:
  \if#31
    \macc@nested@a\relax111{#1}%
  \else
%If the argument consists of more than one symbol, and if the first token is
%a letter, use that letter for the computations:
    \def\gobble@till@marker##1\endmarker{}%
    \futurelet\first@char\gobble@till@marker#1\endmarker
    \ifcat\noexpand\first@char A\else
      \def\first@char{}%
    \fi
    \macc@nested@a\relax111{\first@char}%
  \fi
  \endgroup
}
\makeatother
\newcommand\test[1]{%
$#1{M}$ $#1{A}$ $#1{g}$ $#1{\beta}$ $#1{\mathcal A}^q$
$#1{AB}^\sigma$ $#1{H}^C$ $#1{\sin z}$ $#1{W}_n$}

